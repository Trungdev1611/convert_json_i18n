# ğŸ”„ Luá»“ng Flow cá»§a i18n Tool

## Tá»•ng quan

Tool cÃ³ **2 cÃ¡ch Ä‘á»™c láº­p** Ä‘á»ƒ generate TypeScript types. Báº¡n chá»‰ cáº§n chá»n 1 cÃ¡ch phÃ¹ há»£p vá»›i nhu cáº§u.

## ğŸ“Š Luá»“ng Flow Tá»•ng Thá»ƒ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    BÆ¯á»šC 1: Upload Dá»¯ Liá»‡u                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                                     â”‚
        â–¼                                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Upload JSON   â”‚                    â”‚ Upload Excel  â”‚
â”‚ (Láº§n Ä‘áº§u)     â”‚                    â”‚ (CÃ¡c láº§n sau) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                                     â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Dá»¯ liá»‡u Ä‘Æ°á»£c lÆ°u vÃ o localStorage                  â”‚
â”‚         Key: 'i18n_translations'                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                                     â”‚
        â–¼                                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   CÃCH 1 (Khuyáº¿n nghá»‹)â”‚          â”‚   CÃCH 2 (Cho CI/CD) â”‚
â”‚   KhÃ´ng cáº§n Node.js   â”‚          â”‚   Cáº§n Node.js        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                                     â”‚
        â–¼                                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Click button:         â”‚          â”‚ Click button:         â”‚
â”‚ "Download            â”‚          â”‚ "Export JSON Files"    â”‚
â”‚ translations.d.ts"   â”‚          â”‚                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                                     â”‚
        â–¼                                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Tool tá»± Ä‘á»™ng:         â”‚          â”‚ Download 3 files:     â”‚
â”‚ - Äá»c localStorage   â”‚          â”‚ - en.json            â”‚
â”‚ - Flatten keys        â”‚          â”‚ - jp.json            â”‚
â”‚ - Generate types      â”‚          â”‚ - malay.json         â”‚
â”‚ - Download file       â”‚          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
        â”‚                                   â–¼
        â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                    â”‚ Copy vÃ o project:    â”‚
        â”‚                    â”‚ src/translate/       â”‚
        â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                                   â”‚
        â”‚                                   â–¼
        â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                    â”‚ Cháº¡y script:         â”‚
        â”‚                    â”‚ node scripts/         â”‚
        â”‚                    â”‚ generate-translation-â”‚
        â”‚                    â”‚ types.cjs            â”‚
        â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                                   â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚   File translations.d.ts      â”‚
            â”‚   Ä‘Æ°á»£c táº¡o thÃ nh cÃ´ng         â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚   Sá»­ dá»¥ng trong code:         â”‚
            â”‚   import type {               â”‚
            â”‚     TranslationKey            â”‚
            â”‚   } from '@/types/translations'â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ” Chi Tiáº¿t 2 CÃ¡ch

### âœ¨ CÃ¡ch 1: Generate tá»« localStorage (KhÃ´ng cáº§n Node.js)

**Khi nÃ o dÃ¹ng:**

- LÃ m viá»‡c thá»§ cÃ´ng
- KhÃ´ng cáº§n automation
- Muá»‘n nhanh, Ä‘Æ¡n giáº£n

**Luá»“ng:**

1. Upload JSON/Excel â†’ localStorage
2. Click button "Download translations.d.ts"
3. Tool tá»± Ä‘á»™ng generate vÃ  download
4. Copy file vÃ o project
5. Done! âœ…

**KhÃ´ng cáº§n:**

- âŒ Node.js
- âŒ Script `generate-translation-types.cjs`
- âŒ File JSON trong `src/translate/`

### ğŸ”§ CÃ¡ch 2: Generate tá»« file JSON (Cáº§n Node.js)

**Khi nÃ o dÃ¹ng:**

- Tá»± Ä‘á»™ng hÃ³a trong GitHub Actions
- CI/CD pipeline
- Version control JSON files
- TÃ­ch há»£p vÃ o build process

**Luá»“ng:**

1. Upload JSON/Excel â†’ localStorage
2. Export JSON files â†’ Download `en.json`, `jp.json`, `malay.json`
3. Copy vÃ o `src/translate/` trong project
4. Cháº¡y: `node scripts/generate-translation-types.cjs`
5. File `translations.d.ts` Ä‘Æ°á»£c táº¡o tá»± Ä‘á»™ng
6. Done! âœ…

**Cáº§n:**

- âœ… Node.js
- âœ… Script `generate-translation-types.cjs`
- âœ… File JSON trong `src/translate/`

## ğŸ¤” Táº¡i sao GitHub Actions váº«n cáº§n script Node.js?

GitHub Actions cháº¡y trÃªn server (Ubuntu), khÃ´ng cÃ³:

- âŒ Browser
- âŒ localStorage
- âŒ DOM API

VÃ¬ váº­y, GitHub Actions workflow pháº£i:

1. Äá»c tá»« file JSON trong repo (`src/translate/en.json`)
2. Cháº¡y script Node.js Ä‘á»ƒ generate types
3. Build project vá»›i types Ä‘Ã£ generate

```yaml
# .github/workflows/deploy_githubpage.yml
- name: Generate translation types
  run: node scripts/generate-translation-types.cjs # â† Cáº§n script nÃ y
```

## ğŸ“ TÃ³m Táº¯t

| TiÃªu chÃ­            | CÃ¡ch 1 (localStorage) | CÃ¡ch 2 (File JSON + Script)     |
| ------------------- | --------------------- | ------------------------------- |
| **Cáº§n Node.js?**    | âŒ KhÃ´ng              | âœ… CÃ³                           |
| **Cáº§n script?**     | âŒ KhÃ´ng              | âœ… CÃ³                           |
| **Tá»‘c Ä‘á»™**          | âš¡ Nhanh              | ğŸ¢ Cháº­m hÆ¡n (cáº§n export + copy) |
| **Tá»± Ä‘á»™ng hÃ³a**     | âŒ KhÃ´ng              | âœ… CÃ³ (CI/CD)                   |
| **Version control** | âŒ KhÃ´ng              | âœ… CÃ³ (JSON files trong repo)   |
| **Khuyáº¿n nghá»‹**     | âœ… Cho manual work    | âœ… Cho automation               |

## ğŸ’¡ Káº¿t Luáº­n

- **Náº¿u báº¡n chá»‰ cáº§n types cho project hiá»‡n táº¡i:** DÃ¹ng **CÃ¡ch 1** (khÃ´ng cáº§n Node.js)
- **Náº¿u báº¡n cáº§n tá»± Ä‘á»™ng hÃ³a trong CI/CD:** DÃ¹ng **CÃ¡ch 2** (cáº§n script Node.js)
- **GitHub Actions luÃ´n cáº§n CÃ¡ch 2** vÃ¬ khÃ´ng cÃ³ localStorage
